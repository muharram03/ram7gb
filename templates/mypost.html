<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<nav class="navbar navbar bg-primary navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/home">ML Playbook</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse px-5" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="{{ 'nav-link active' if active_page == 'home' else 'nav-link' }} active" aria-current="page"
            href="/home">Home</a>
        </li>
        <li class="nav-item">
          <a class="{{ 'nav-link active' if active_page == 'discussion' else 'nav-link' }}"
            href="/discussion">Discussion</a>
        </li>
        <li class="nav-item">
          <a class="{{ 'nav-link active' if active_page == 'hero_story' else 'nav-link' }}" href="/hero_story">Story</a>
        </li>
        <li class="nav-item">
          <a class="{{ 'nav-link active' if active_page == 'interactive_maps' else 'nav-link' }}"
            href="/interactive_maps">Interactive Maps</a>
        </li>
        </li>
      </ul>
      {% if user_info.exp %}
      <div class="flex-shrink-0 dropdown">
        <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle show"
          data-bs-toggle="dropdown" aria-expanded="true">
          <img src="https://github.com/mdo.png" alt="mdo" width="32" height="32" class="rounded-circle">
        </a>
        <ul class="dropdown-menu text-small shadow "
          style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 34px);"
          data-popper-placement="bottom-end">
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" href="#" onclick="sign_out()">Sign out</a></li>
        </ul>
      </div>
      {% else %}
      <button class="btn btn-outline-success" type="button" onclick="location.href='/login'">Login</button>
      {% endif %}
    </div>
  </div>
</nav>
<script>
  function sign_out() {
    $.removeCookie("mytoken", {
      path: "/"
    });
    alert("Signed out!");
    window.location.href = "/login";
  }
</script>

<body>
  <section class="section">
    <article class="media">
      <figure class="media-left" style="align-self: center">
        <a class="image is-32x32" href="/user/{{ user_info.username }}">
          <img class="is-rounded" src="{{ url_for('static', filename=user_info.profile_pic_real) }}" />
        </a>
      </figure>
      <div class="media-content">
        <div class="field">
          <p class="control">
            <input id="input-post" class="input is-rounded" placeholder="What are you thinking about?"
              onclick='$("#modal-post").addClass("is-active")' />
          </p>
        </div>
      </div>
    </article>
  </section>

  <div class="modal" id="modal-post">
    <div class="modal-background" onclick='$("#modal-post").removeClass("is-active")'></div>
    <div class="modal-content">
      <div class="box">
        <article class="media">
          <div class="media-content">
            <div class="field">
              <p class="control">
                <textarea id="textarea-post" class="textarea" placeholder="What are you thinking about?"></textarea>
              </p>
            </div>
            <nav class="level is-mobile">
              <div class="level-left"></div>
              <div class="level-right">
                <div class="level-item">
                  <a class="button is-sparta" onclick="post()">Create post</a>
                </div>
                <div class="level-item">
                  <a class="button is-sparta is-outlined" onclick='$("#modal-post").removeClass("is-active")'>Cancel</a>
                </div>
              </div>
            </nav>
          </div>
        </article>
      </div>
    </div>
    <button class="modal-close is-large" aria-label="close"
      onclick='$("#modal-post").removeClass("is-active")'></button>
  </div>

  <section class="section">
    <div id="post-box" class="container">
      <div class="box">
        <article class="media">
          <div class="media-left">
            <a class="image is-64x64" href="#">
              <img class="is-rounded" src={{ url_for("static",
              filename="profile_pics/profile_placeholder.png") }} alt="Image">
            </a>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>UserA</strong> <small>@user-a</small>
                <small>10 minutes ago</small>
                <br />
                Comments section
              </p>
            </div>
            <nav class="level is-mobile">
              <div class="level-left">
                <a class="level-item is-sparta" aria-label="heart" onclick="toggle_like('', 'heart')">
                  <span class="icon is-small"><i class="fa fa-heart" aria-hidden="true"></i></span>&nbsp;<span
                    class="like-num">2.7k</span>
                </a>
              </div>
            </nav>
          </div>
        </article>
      </div>
    </div>
  </section>
</body>
<footer class="bg-white text-dark text-center py-3">
  <div class="container">
    <p>&copy; 2023 ML Playbook. All rights reserved.</p>
  </div>
</footer>

</html>